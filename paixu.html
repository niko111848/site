onload = sortbyfirstname; // Update function name for clarity

function sortbyfirstname() { 
    // Get the table element (assuming it's the first table in the document)
    let tbl = document.getElementsByTagName('table');
    
    // Convert table rows to an array for sorting
    let rows = Array.from(tbl.rows);
    
    // Sort rows based on the first name (first cell, index 0)
    rows.sort((a, b) => {
        let firstNameA = a.cells.innerHTML.toLowerCase();
        let firstNameB = b.cells.innerHTML.toLowerCase();
        return firstNameA.localeCompare(firstNameB);
    });

    // Remove existing rows from the table
    while (tbl.rows.length > 0) {
        tbl.deleteRow(0);
    }

    // Append sorted rows back to the table
    const tbody = tbl.getElementsByTagName('tbody') || tbl; // Handle tbody if present
    rows.forEach(row => tbody.appendChild(row));
}
